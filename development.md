# Development and Technology

## Webbook

  - [Webbook implementation](development.md#webbook) - Website generation using GitHub Page as a replacing for Markdown Hugo/Jekyll frameworks with WebBook Level 1 (Unofficial Proposal Draft by Daniel Glazman combined with Publication Manifest W3C Proposed Recommendation 01 October 2020 https://www.w3.org/TR/pub-manifest/ - using naming of publication.json - [see issue](https://github.com/Health-Sprints/obp/issues/3).

  The reason for this Webbook implementation is that a Markdown conversion is not needed at this point in the workflow. That Markdown involves lossy conversion and problems with publication part, e.g., tables, picture captions, etc. Markdown can be part of the workflow - as an authoring format and output format but for our workflow not in this position in the workflow.
  
## Note on contributors

I need to bring across @MurakamiShinyu and @johannesWilm to consult on plans 31.3.21
  
### What are we trying to achieve and how it works

#### Goals

  - Enable Fidus Writer to output multi-format publication to GitHub: all outstanding issues for MVP are here https://github.com/Health-Sprints/obp/issues?q=is%3Aissue+is%3Aopen+label%3A%22MVP+%CE%B1+Must%22
  - Generate publication website on GitHub pages and GitLab pages
  - Move Markdown to a different position in the workflow (TBC) and replace with EPUB 3.1 XHMTL
  - Introduce standards based Webbook as a framework for conventional multi-format publication, and as extensible framework for semantic/computational/repoducable publications

#### How it works

  - The Webbook is a replacement for Hugo or Jekyl to make a website on GitHub page - see examples previously made - [Jekyll](https://akademie-oeffentliches-gesundheitswesen.github.io/krisenmanagment/), [Hugo and Docsify](https://independent-sage.github.io/Should-Schools-Reopen/#/).
  - Additionally the Webbook uses the GitHub repository and GitHub Pages to access other output formats automatically by referring to local links. EPUB /epub/ /pdf/ /pod/ /source/ /html/ /vivliostyle/ etc. Fidus Writer export would have a templated configuration to generate a specific file structure and naming convention. Currently I'm not 100% sure about how to do this. An idea would that this is handled by the CSS and HTML as part of a GitHub repository template - where a page header could be added to link to other formats that would always be the same, or its part of the menu Javascript and would always be the same.
  - Vivliostyle and GitHub Pages problem - GitHub Pages javacript or functionality tends to take over precidence from Vivliostyle, and instead we want to be able to have the Vivliostyle directory rendered by the Vivliostyle javascript /vivliostyle/ either stored locally or remotely.
  - It is made from an uncompressed EPUB (3.1?) is stored on GitHub. 
  - The EPUB needs some modification prior to generation. a) to fit WebBook Level 1 (Unofficial Proposal Draft by Daniel Glazman. b) Adding publication.json to comply with Publication Manifest W3C Proposed Recommendation 01 October 2020. We do not think these invalidate the EPUB.
  - Have a CSS that can be used for the Webbook and render the Webbook website in Github Pages. The CSS would be generated by Fidus Writer or could be a template that is made available from a GitHub repo.
  - Have a Javascript to render a navigation menu with menu features like Docsify.
  - The use of the Publication Manifest W3C publication.json is also seen as a link to developing the 'Semantic Publishing' part of the publication.
  
### Steps involved in implementation

  - What we are replacing: [Jekyll](https://akademie-oeffentliches-gesundheitswesen.github.io/krisenmanagment/), [Hugo and Docsify](https://independent-sage.github.io/Should-Schools-Reopen/#/) 
  - Output a decompressed EPUB archive and other formats to GitHub - see: https://github.com/TIBHannover/Fidus-Writer-Manual | https://tibhannover.github.io/Fidus-Writer-Manual/html/index.html | https://tibhannover.github.io/Fidus-Writer-Manual/epub/EPUB/document-nav.xhtml
  - Book made here - https://write.handbuch.io/book/

## Metdata and metadata distribution

## Fidus Writer to Vivliostyle

## Fidus Writer Fixes

## Semantic Publishing


